<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bytest.autotest.dao.TaskConfigDao">

    <resultMap type="com.bytest.autotest.domain.TaskConfig" id="TaskConfigMap">
        <result property="requestId" column="request_id" jdbcType="VARCHAR"/>
        <result property="taskName" column="task_name" jdbcType="VARCHAR"/>
        <result property="taskDesc" column="task_desc" jdbcType="VARCHAR"/>
        <result property="taskStatus" column="task_status" jdbcType="VARCHAR"/>
        <result property="createUeser" column="create_ueser" jdbcType="VARCHAR"/>
        <result property="createdatetime" column="createdatetime" jdbcType="TIMESTAMP"/>
        <result property="updatetime" column="updatetime" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="TaskConfigMap">
        select request_id,
               task_name,
               task_desc,
               task_status,
               create_ueser,
               createdatetime,
               updatetime
        from autotest.task_config
        where request_id = #{requestId}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="TaskConfigMap">
        select request_id,
               task_name,
               task_desc,
               task_status,
               create_ueser,
               createdatetime,
               updatetime
        from autotest.task_config
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="TaskConfigMap">
        select
        request_id, task_name, task_desc, task_status, create_ueser, createdatetime, updatetime
        from autotest.task_config
        <where>
            <if test="requestId != null and requestId != ''">
                and request_id = #{requestId}
            </if>
            <if test="taskName != null and taskName != ''">
                and task_name = #{taskName}
            </if>
            <if test="taskDesc != null and taskDesc != ''">
                and task_desc = #{taskDesc}
            </if>
            <if test="taskStatus != null and taskStatus != ''">
                and task_status = #{taskStatus}
            </if>
            <if test="createUeser != null and createUeser != ''">
                and create_ueser = #{createUeser}
            </if>
            <if test="createdatetime != null">
                and createdatetime = #{createdatetime}
            </if>
            <if test="updatetime != null">
                and updatetime = #{updatetime}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="requestId" useGeneratedKeys="true">
        insert into autotest.task_config(task_name, task_desc, task_status, create_ueser, createdatetime, updatetime)
        values (#{taskName}, #{taskDesc}, #{taskStatus}, #{createUeser}, #{createdatetime}, #{updatetime})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update autotest.task_config
        <set>
            <if test="taskName != null and taskName != ''">
                task_name = #{taskName},
            </if>
            <if test="taskDesc != null and taskDesc != ''">
                task_desc = #{taskDesc},
            </if>
            <if test="taskStatus != null and taskStatus != ''">
                task_status = #{taskStatus},
            </if>
            <if test="createUeser != null and createUeser != ''">
                create_ueser = #{createUeser},
            </if>
            <if test="createdatetime != null">
                createdatetime = #{createdatetime},
            </if>
            <if test="updatetime != null">
                updatetime = #{updatetime},
            </if>
        </set>
        where request_id = #{requestId}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete
        from autotest.task_config
        where request_id = #{requestId}
    </delete>

</mapper>